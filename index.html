<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="黄氏家族寻根平台 - 数字化传承黄氏文化，帮助全球宗亲查询族谱、字辈与寻根问祖。">
    <title>黄氏家族寻根平台 | hxfund.cn</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- 页面加载动画 -->
    <div id="pageLoader" class="page-loader">
        <div class="loader-inner">
            <div class="loader-char">黄</div>
            <div class="loader-text">黄氏寻根平台 · 载入中...</div>
        </div>
    </div>

    <!-- 导航栏 -->
    <header class="header" id="mainHeader">
        <div class="container header-content">
            <div class="logo">
                <span class="logo-icon">黄</span>
                <span class="logo-text">黄氏宗亲 · 寻根</span>
            </div>
            <nav class="nav" id="mainNav">
                <a href="#home" class="nav-link active" id="nav-home">首页</a>
                <a href="#tree" class="nav-link" id="nav-tree">族谱</a>
                <a href="#calculator" class="nav-link" id="nav-calculator">字辈</a>
                <a href="#ppt" class="nav-link" id="nav-ppt">介绍</a>
                <a href="#database" class="nav-link" id="nav-database">架构</a>
                <a href="#blockchain" class="nav-link" id="nav-blockchain">存证</a>
                <a href="#guestbook" class="nav-link" id="nav-guestbook">留言</a>
            </nav>
            <div class="hamburger" id="hamburgerBtn" aria-label="菜单">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- 首页/Hero -->
    <section id="home" class="hero-section">
        <div class="hero-bg-pattern"></div>
        <div class="container hero-content">
            <div class="hero-badge">hxfund.cn · 黄氏寻根</div>
            <h1 class="hero-title">
                <span class="title-char">江</span><span class="title-char">夏</span><span
                    class="title-char delay1">源</span><span class="title-char delay2">流</span>
                <br>
                <span class="title-char delay3">源</span><span class="title-char delay4">远</span><span
                    class="title-char delay5">流</span><span class="title-char delay6">长</span>
            </h1>
            <p class="hero-subtitle">数字化传承黄氏家族文化 · 连接全球宗亲 · 守护千年血脉</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-num" data-count="28">0</div>
                    <div class="stat-label">个省份</div>
                </div>
                <div class="stat-divider">|</div>
                <div class="stat-item">
                    <div class="stat-num" data-count="3200">0</div>
                    <div class="stat-label">万+ 宗亲</div>
                </div>
                <div class="stat-divider">|</div>
                <div class="stat-item">
                    <div class="stat-num" data-count="4600">0</div>
                    <div class="stat-label">年历史</div>
                </div>
            </div>
            <a href="#tree" class="hero-btn">探索家族世系 ↓</a>
        </div>
        <div class="scroll-indicator">
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <!-- 模块一：3D 动态族谱树 -->
    <section id="tree" class="section">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">GENEALOGY TREE</div>
                <h2 class="section-title">家族世系树</h2>
                <p class="section-desc">递归展示黄氏传承脉络，点击族人卡片查看详细档案</p>
            </div>
            <div class="tree-controls">
                <button class="tree-btn" id="expandAll">展开全部</button>
                <button class="tree-btn" id="collapseAll">收折全部</button>
                <span class="tree-hint">← 横向滚动查看更多 →</span>
            </div>
            <div class="tree-container">
                <div class="tree-wrapper" id="treeRoot">
                    <!-- 树节点将通过 JS 渲染 -->
                </div>
            </div>
        </div>
    </section>

    <!-- 模块二：智能字辈计算器 -->
    <section id="calculator" class="section bg-alt">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">GENERATION CALCULATOR</div>
                <h2 class="section-title">字辈推算</h2>
                <p class="section-desc">输入您所在的世系代数，智能匹配对应字辈汉字</p>
            </div>
            <div class="calc-card card">
                <div class="calc-form">
                    <div class="form-group">
                        <label for="branchSelect">选择分支</label>
                        <select id="branchSelect">
                            <option value="jiangxia">江夏黄氏</option>
                            <option value="shicheng">石城黄氏</option>
                            <option value="mianyang">绵阳黄氏</option>
                            <option value="fujian">福建黄氏</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="genInput">输入代数（第几世）</label>
                        <input type="number" id="genInput" min="1" max="999" placeholder="例如：10">
                    </div>
                    <button id="calcBtn" class="btn-primary">
                        <span>推算字辈</span>
                        <span class="btn-icon">✦</span>
                    </button>
                </div>
                <div id="calcResult" class="result-box hidden">
                    <div class="result-label">您的字辈是</div>
                    <div class="result-char-wrap">
                        <span id="resultChar" class="highlight-text"></span>
                    </div>
                    <div id="resultContext" class="result-context"></div>
                    <div class="gen-sequence" id="genSequence"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 模块三：项目路演 PPT 展示 -->
    <section id="ppt" class="section">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">PROJECT VISION</div>
                <h2 class="section-title">项目愿景与规划</h2>
                <p class="section-desc">拖拽或点击箭头查看项目白皮书幻灯片</p>
            </div>
            <div class="ppt-viewer-wrap">
                <button class="ppt-arrow ppt-prev" id="pptPrev" aria-label="上一张">&#8249;</button>
                <div class="ppt-viewer">
                    <div class="ppt-track" id="pptTrack">
                        <!-- 幻灯片通过 JS 生成 -->
                    </div>
                </div>
                <button class="ppt-arrow ppt-next" id="pptNext" aria-label="下一张">&#8250;</button>
            </div>
            <div class="ppt-indicators" id="pptIndicators"></div>
            <div class="ppt-page-info" id="pptPageInfo">1 / 5</div>
        </div>
    </section>

    <!-- 模块五：数据库结构设计 -->
    <section id="database" class="section bg-alt">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">DATABASE ARCHITECTURE</div>
                <h2 class="section-title">后端数据库结构</h2>
                <p class="section-desc">采用关系型数据库存储族谱数据，支持复杂的血缘关系查询</p>
            </div>
            <div class="erd-container">
                <div class="erd-legend">
                    <span class="legend-item"><span class="legend-dot pk"></span>PK 主键</span>
                    <span class="legend-item"><span class="legend-dot fk"></span>FK 外键</span>
                    <span class="legend-item"><span class="legend-dot idx"></span>INDEX</span>
                </div>
                <div class="erd-diagram" id="erdDiagram">
                    <!-- ERD 由 JS 渲染 -->
                </div>
                <div class="erd-relations" id="erdRelations">
                    <!-- 关系说明 -->
                </div>
            </div>
        </div>
    </section>

    <!-- 模块六：区块链认证 -->
    <section id="blockchain" class="section">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">BLOCKCHAIN CERTIFICATE</div>
                <h2 class="section-title">区块链存证体系</h2>
                <p class="section-desc">哈希上链机制，确保族谱数据防篡改、可溯源</p>
            </div>
            <div class="blockchain-layout">
                <!-- 存证流程 -->
                <div class="bc-flow-card card">
                    <h3 class="bc-subtitle">📜 存证流程</h3>
                    <div class="bc-steps" id="bcSteps">
                        <!-- JS 渲染 -->
                    </div>
                </div>
                <!-- 在线核验 -->
                <div class="bc-verify-card card">
                    <h3 class="bc-subtitle">🔍 在线核验</h3>
                    <p class="bc-desc">输入族人ID或哈希值，实时验证数据真实性</p>
                    <div class="bc-form">
                        <input type="text" id="bcInput" placeholder="输入族人ID (如: MBR-2024-001)" class="bc-input">
                        <button class="btn-primary" id="bcVerifyBtn">
                            <span>核验真伪</span>
                            <span class="btn-icon">🔗</span>
                        </button>
                    </div>
                    <div id="bcResult" class="bc-result hidden">
                        <!-- 验证结果 -->
                    </div>
                    <!-- 已存证记录 -->
                    <div class="bc-records" id="bcRecords">
                        <!-- JS 渲染示例记录 -->
                    </div>
                </div>
            </div>
            <!-- 技术选型 -->
            <div class="tech-stack-card card">
                <h3 class="bc-subtitle">🏗️ 技术选型与架构</h3>
                <div class="tech-items" id="techItems">
                    <!-- JS 渲染 -->
                </div>
            </div>
        </div>
    </section>

    <!-- 模块四：宗亲留言墙 -->
    <section id="guestbook" class="section bg-alt">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">GUESTBOOK</div>
                <h2 class="section-title">宗亲留言墙</h2>
                <p class="section-desc">发布寻亲信息，连接五湖四海的黄氏宗亲</p>
            </div>
            <div class="card guestbook-card">
                <div class="input-area">
                    <div class="guest-name-row">
                        <input type="text" id="guestName" placeholder="您的名字或称呼" maxlength="20" class="guest-name-input">
                        <span class="name-hint">留空则显示"匿名宗亲"</span>
                    </div>
                    <textarea id="guestInput" placeholder="写下您的寻亲信息、祝福语或家族故事...&#10;&#10;例：寻找湖南宁乡黄氏宗亲，字辈为'光明正大'，望联系。"
                        maxlength="300"></textarea>
                    <div class="input-footer">
                        <span id="charCount" class="char-count">0/300</span>
                        <button id="postBtn" class="btn-primary">
                            <span>发布留言</span>
                            <span class="btn-icon">✉</span>
                        </button>
                    </div>
                </div>
                <div class="guest-list" id="guestList">
                    <!-- 留言列表 -->
                </div>
            </div>
        </div>
    </section>

    <!-- 弹窗 Modal - 族人详情 -->
    <div id="modal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" id="closeModal" aria-label="关闭">✕</button>
            <div class="modal-header">
                <img src="" alt="Avatar" id="modalImg" class="modal-img">
                <div class="modal-header-info">
                    <h3 id="modalName"></h3>
                    <div class="modal-badge" id="modalInfo"></div>
                </div>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <span class="modal-icon">📖</span>
                    <div>
                        <div class="modal-label">生平</div>
                        <p class="modal-bio" id="modalBio"></p>
                    </div>
                </div>
                <div class="modal-section">
                    <span class="modal-icon">📍</span>
                    <div>
                        <div class="modal-label">籍贯</div>
                        <p class="modal-loc" id="modalLoc"></p>
                    </div>
                </div>
                <div class="modal-section" id="modalBcSection">
                    <span class="modal-icon">🔗</span>
                    <div>
                        <div class="modal-label">区块链存证</div>
                        <p class="modal-bc" id="modalBc"></p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-outline" id="modalClose2">关闭</button>
                <button class="btn-primary" onclick="alert('功能开发中，敬请期待！')">申请认证</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-content">
            <div class="footer-logo">黄氏宗亲 · 寻根平台</div>
            <div class="footer-links">
                <a href="#home">首页</a>
                <a href="#tree">族谱树</a>
                <a href="#calculator">字辈推算</a>
                <a href="#ppt">项目愿景</a>
                <a href="#blockchain">区块链存证</a>
                <a href="#guestbook">留言墙</a>
            </div>
            <div class="footer-info">
                <p>© 2024 黄氏家族寻根平台 (hxfund.cn) · 传承家风，继往开来</p>
                <p class="footer-sub">本平台为演示版本，数据仅供参考 · 保护宗亲隐私，守护家族文化</p>
            </div>
        </div>
    </footer>

    <!-- 回到顶部按钮 -->
    <button id="backToTop" class="back-to-top" aria-label="回到顶部">↑</button>

    <script src="script.js"></script>
</body>

</html>