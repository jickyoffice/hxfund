# 黄氏家族寻根平台 - 更新日志

## 2026-02-24

### 版本: v1.1.0

#### 新增功能
- **Qwen AI 客户端模块**
  - 集成通义千问AI功能，支持家族历史和文化相关问题的智能问答
  - 添加多模态支持，可上传图片与AI进行交互
  - 支持最新qwen3.5-plus模型

#### 功能增强
- **模型支持更新**
  - 添加对qwen3.5-plus多模态模型的支持
  - 更新模型选择界面，包含最新的模型选项

- **多模态输入支持**
  - 实现图片上传功能
  - 支持文本和图像的组合输入
  - 图片预览功能

- **安全增强**
  - 实现后端API代理，保护API密钥不暴露在前端
  - 使用环境变量管理敏感信息

#### 界面优化
- **新增Qwen AI界面**
  - 聊天界面设计，与网站整体风格保持一致
  - 参数配置面板，支持模型选择和温度调节
  - 响应式设计，支持移动端访问

- **用户体验提升**
  - 添加上传图片的直观界面
  - 改进错误处理和用户提示

#### 技术改进
- **架构优化**
  - 采用前后端分离架构
  - 实现安全的API调用代理
  - 使用OpenAI兼容协议访问Qwen API

- **代码重构**
  - 模块化代码结构
  - 提高代码可维护性

#### 修复
- 无重大bug修复

---

## 2026-02-24 (今日更新)

### 优化和改进
- 修复了前端JavaScript中FileReader的异步处理问题
- 优化了错误处理机制，增加了更完善的输入验证
- 改进了API调用的超时处理机制
- 修复了服务器端的输入验证问题
- 改进了API错误处理和响应格式验证
- 优化了多模态输入的处理逻辑
- 修正了API端点URL，使用正确的DashScope端点
- 增强了前后端的安全性和健壮性
- 改进了用户体验和错误提示
- 优化了代码可读性和维护性
- 创建了专门的测试页面用于验证AI功能
- 添加了对多种模型的支持：
  - 千问系列模型：qwen3.5-plus、qwen3-max-2026-01-23、qwen3-coder-next、qwen3-coder-plus
  - 第三方模型：glm-5、glm-4.7、kimi-k2.5
- 更新了前端界面，添加了模型分组选择
- 改进了模型兼容性检测机制

---

## 2024

### 版本: v1.0.0 (初始版本)

#### 初始功能
- 族谱树可视化
- 字辈计算器
- 项目白皮书展示
- 区块链存证系统
- 数据库ERD可视化
- 宗亲留言墙